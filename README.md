# Резервное копирование фотографий из VK

Данный проект представляет собой программу для резервного копирования фотографий из профиля и стены пользователя VK на облачные хранилища Яндекс.Диск и Google Drive.

## Описание

Программа выполняет следующие основные задачи:

1. Получает фотографии с профиля пользователя VK с помощью метода `photos.get` API VK.
2. Сохраняет фотографии максимального размера (размер `z`) на Яндекс.Диск.
3. Использует количество лайков в качестве имени файла для сохраненных фотографий. Если количество лайков совпадает, добавляется дата загрузки.
4. Сохраняет информацию о загруженных фотографиях (имя файла, размер) в JSON-файл.
5. Сохраняет фотографии на Google Drive:
    - Создает папку `backup_photos` в корневой директории Google Drive пользователя.
    - Сохраняет фотографии в созданной папке с именами файлов, аналогичными именам для Яндекс.Диска.
    - Требует предварительной настройки Google Drive API и наличия файла `credentials.json` в корневой директории проекта.
    - Сохраняет информацию о загруженных фотографиях (имя файла, размер) в JSON-файл `photo_info_g_drive.json`.

## Требования

- Python (рекомендуется Python 3.12 или новее)
- Наличие учетной записи VK с доступом к профилю, с которого будут копироваться фотографии
- Наличие учетной записи Яндекс (для получения токена Яндекс.Диска)
- Наличие учетной записи Google (для использования Google Drive)

## Установка

1. Клонируйте репозиторий:

```
git clone https://github.com/your_username/vk-photo-backup.git
```
2. Установите зависимости:

```
pip install -r requirements.txt
```
3. Создайте файл `api.txt` в корневой директории проекта и поместите в него следующие данные (каждое значение на новой строке):

```
токен_vk
id_пользователя_vk
токен_яндекс_диска
```

4. Замените `токен_vk` и `id_пользователя_vk` соответствующими значениями из вашей учетной записи VK. Замените `токен_яндекс_диска` токеном, полученным с Полигона Яндекс.Диска.

5. Для использования Google Drive:
   
> Следуйте инструкциям по настройке Google Drive API и получению `credentials.json`.
> 
> Поместите файл `credentials.json` в корневую директорию проекта.

## Инструкция по настройке Google Drive API

Для сохранения фотографий на Google Drive требуется выполнить дополнительные шаги по аутентификации и получению учетных данных.

1. Перейдите на [Google APIs Console](https://console.developers.google.com/) и создайте новый проект.
2. Включите Google Drive API для вашего проекта.
3. Перейдите в раздел "Учетные данные" и создайте "Учетные данные для настольного приложения".
4. При создании учетных данных вам будет предложено скачать файл `credentials.json`. Сохраните этот файл в корневую директорию проекта.
5. Запустите скрипт `quickstart.py` из корневой директории проекта:

```
python quickstart.py
```

Скрипт откроет веб-браузер и предложит вам авторизоваться в вашей учетной записи Google. После успешной авторизации в корневой директории проекта будет создан файл `token.json`, содержащий ваши учетные данные для доступа к Google Drive API.
После выполнения этих шагов вы сможете использовать функцию `save_photos_to_google_drive` для сохранения фотографий на Google Drive.

Код `quickstart.py` является примером из официальной документации Google Drive API и используется для первоначальной аутентификации и получения файла `token.json` с учетными данными. Файл `token.json` затем используется в основном коде приложения для авторизованного доступа к Google Drive API.

## Использование
Запустите скрипт `main.py`:

```
python main.py
```

По умолчанию программа сохранит 5 фотографий из альбома profile на Яндекс.Диск. Для изменения количества фотографий или альбома, отредактируйте соответствующие параметры при вызове функций `save_photos_to_yandex_disk` и `save_photos_to_google_drive`.

Информация о загруженных фотографиях будет сохранена в JSON-файлах ```photo_info_ya_disk.json``` и ```photo_info_g_drive.json```.